{% extends 'element.plugins.profiler:profiler/layout.html' %}

{% block toolbar %}

    {% macro _memory_icon(collector) %}
        <span>
            <img width="13" height="28" alt="Memory Usage" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAcBAMAAABITyhxAAAAJ1BMVEXNzc3///////////////////////8/Pz////////////+NjY0/Pz9lMO+OAAAADHRSTlMAABAgMDhAWXCvv9e8JUuyAAAAQ0lEQVQI12MQBAMBBmLpMwoMDAw6BxjOOABpHyCdAKRzsNDp5eXl1KBh5oHBAYY9YHoDQ+cqIFjZwGCaBgSpBrjcCwCZgkUHKKvX+wAAAABJRU5ErkJggg==" />
            <span>{{ collector.end|filesizeformat() }}</span>
            <span class="sf-toolbar-status sf-toolbar-status-{% if collector.delta > 0 %}yellow{%else%}green{%endif%}" title="{{ collector.statustext }}">{% if collector.delta > 0 %}+{% endif %}{{ collector.delta|filesizeformat() }}{{ collector.status_code }}</span>
        </span>
    {% endmacro %}

    {% macro _memory_text(collector) %}
        <div class="sf-toolbar-info-piece">
            <b>Memory usage</b>
            <span>{{ collector.end|filesizeformat() }}</span> <br />
            <b>Memory delta</b>
            <span class="sf-toolbar-status sf-toolbar-status-{% if collector.delta > 0 %}yellow{%else%}green{%endif%}" title="{{ collector.statustext }}">{% if collector.delta > 0 %}+{% endif %}{{ collector.delta|filesizeformat() }}{{ collector.status_code }}</span>
        </div>
    {% endmacro %}

    {% set icon = _memory_icon(collector) %}
    {% set text = _memory_text(collector) %}

    {% set link = false %}
    {% include 'element.plugins.profiler:profiler/toolbar_item.html'  %}
{% endblock %}
